{"version":3,"file":"lfx-omnivore-bindings.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,IAAI,KAAK,EAAE,MAAM,IAAI;AACpC;AACA;AACA,0BAA0B,KAAK;AAC/B,aAAa,IAAI;AACjB,eAAe,IAAI;AACnB;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,uBAAuB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,oDAAoD;AACpD,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,iBAAiB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,QAAQ;AACR;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,UAAU;AACV;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD,MAAM;AACN;AACA;AACA;AACA;AACA,WAAW,qBAAqB;AAChC,UAAU;AACV;AACA;AACA,WAAW,qBAAqB;AAChC;AACA,QAAQ;AACR;AACA;AACA,SAAS,qBAAqB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://leaflet.extras/./inst/htmlwidgets/bindings/lfx-omnivore-bindings.js"],"sourcesContent":["/* global LeafletWidget, $, L, topojson, csv2geojson, toGeoJSON */\r\n\r\n// parse an XML\r\nLeafletWidget.utils.parseXML = function(str) {\r\n  if (typeof str === 'string') {\r\n    return (new DOMParser()).parseFromString(str, 'text/xml');\r\n  } else {\r\n    return str;\r\n  }\r\n};\r\n\r\n// parse an GeoJSON/TopoJSON\r\nLeafletWidget.utils.getParsedGeoJSON = function(data) {\r\n  var geojson;\r\n\r\n  if(typeof data ==='undefined' || data === null ||\r\n    (typeof data === 'string' && data.trim() === '')) {\r\n    return geojson;\r\n  }\r\n\r\n  if(typeof data === 'string') {\r\n    geojson = JSON.parse(data);\r\n  } else {\r\n    geojson = data;\r\n  }\r\n\r\n  // if input is a TopoJSON\r\n  // iterate over each of its objects and add their coords\r\n  if (geojson.type === 'Topology') {\r\n    var topoJsonFeatures = [];\r\n    for (var key in geojson.objects) {\r\n      var topoToGeo = topojson.feature(geojson, geojson.objects[key]);\r\n      if(L.Util.isArray(topoToGeo)) {\r\n        topoJsonFeatures = topoJsonFeatures.concat(topoToGeo);\r\n      } else if('features' in topoToGeo ) {\r\n        topoJsonFeatures = topoJsonFeatures.concat(topoToGeo.features);\r\n      } else {\r\n        topoJsonFeatures.push(topoToGeo);\r\n      }\r\n    }\r\n    geojson = topoJsonFeatures;\r\n  }\r\n  return geojson;\r\n};\r\n\r\n// utility method to extract resetStyle from defaultStyle & highlightStyle\r\nfunction getResetStyle(style, highlightStyle) {\r\n  var resetStyle = {};\r\n  if(!$.isEmptyObject(highlightStyle)) {\r\n    $.each(highlightStyle, function (k, v) {\r\n      if(k != 'bringToFront' && k != 'sendToBack'){\r\n        if(style && style[k]) {\r\n          resetStyle[k] = style[k];\r\n        }\r\n      }\r\n    });\r\n  }\r\n  return resetStyle;\r\n}\r\n\r\n// is a given string a URL\r\nLeafletWidget.utils.isURL = function(url) {\r\n  if (typeof url !== 'string' || url.trim() === '' ) {\r\n    return false;\r\n  }\r\n  /* eslint-disable quotes */\r\n  var strRegex = '^((https|http|ftp|rtsp|mms)?://)'\r\n    + \"?(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?\" //ftp user@\r\n    + '(([0-9]{1,3}\\\\.){3}[0-9]{1,3}' // IP/URL- 199.194.52.184\r\n    + '|' // IP/DOMAIN\r\n    + \"([0-9a-z_!~*'()-]+\\\\.)*\" //  www.\r\n    + '([0-9a-z][0-9a-z-]{0,61})?[0-9a-z]\\\\.' //\r\n    + '[a-z]{2,6})' // first level domain- .com or .museum\r\n    + '(:[0-9]{1,4})?' // Port - :80\r\n    + '((/?)|' // a slash isn't required if there is no file name\r\n    + \"(/[0-9A-Za-z_!~*'().;?:@&=+$,%#-]+)+/?)$\";\r\n  /* eslint-enable quotes */\r\n  var re=new RegExp(strRegex);\r\n  return re.test(url);\r\n};\r\n\r\nfunction addGeoJSONLayer(\r\n  widget,\r\n  geojsonLayerFunction,\r\n  layerId, group,\r\n  setStyle,\r\n  markerType, markerIcons,\r\n  markerIconProperty, markerOptions, markerIconFunction,\r\n  clusterOptions, clusterId,\r\n  labelProperty, labelOptions, popupProperty, popupOptions,\r\n  pathOptions, highlightOptions\r\n) {\r\n  var self = widget;\r\n\r\n  // Initialize Clusering support if enabled.\r\n  var clusterGroup = self.layerManager.getLayer('cluster', clusterId),\r\n    cluster = clusterOptions !== null;\r\n  if (cluster && !clusterGroup) {\r\n    clusterGroup = L.markerClusterGroup.layerSupport(clusterOptions);\r\n    if(clusterOptions.freezeAtZoom) {\r\n      var freezeAtZoom = clusterOptions.freezeAtZoom;\r\n      delete clusterOptions.freezeAtZoom;\r\n      clusterGroup.freezeAtZoom(freezeAtZoom);\r\n    }\r\n    clusterGroup.clusterLayerStore = new LeafletWidget.ClusterLayerStore(clusterGroup);\r\n  }\r\n  var extraInfo = cluster ? { clusterId: clusterId } : {};\r\n  var thisGroup = cluster ? null : group;\r\n\r\n  // Initialize shape highlighting if enabled.\r\n  var style = pathOptions;\r\n  var highlightStyle = highlightOptions;\r\n  var defaultStyle = getResetStyle(style, highlightStyle);\r\n\r\n  function highlightFeature(e) {\r\n    var layer = e.target;\r\n    layer.setStyle(highlightStyle);\r\n    if(highlightStyle.bringToFront) {\r\n      layer.bringToFront();\r\n    }\r\n  }\r\n  function resetFeature(e){\r\n    var layer = e.target;\r\n    layer.setStyle(defaultStyle);\r\n    if(highlightStyle.sendToBack) {\r\n      layer.bringToBack();\r\n    }\r\n  }\r\n\r\n  var globalStyle = $.extend({}, style);\r\n\r\n  function styleFunction(feature) {\r\n    return $.extend(globalStyle, feature.style || {},\r\n      feature.properties.style || {});\r\n  }\r\n\r\n  function onEachFeatureFunction(feature, layer) {\r\n    var featureExtraInfo = $.extend({\r\n      featureId: feature.id,\r\n      properties: feature.properties\r\n    }, extraInfo || {});\r\n\r\n    // create and bind popups if enabled.\r\n    if (typeof popupProperty !== 'undefined' && popupProperty !== null) {\r\n      if(typeof popupProperty == 'string') {\r\n        if(!$.isEmptyObject(popupOptions)) {\r\n          layer.bindPopup(feature.properties[popupProperty], popupOptions);\r\n        } else {\r\n          layer.bindPopup(feature.properties[popupProperty]);\r\n        }\r\n      } else if(typeof popupProperty == 'function') {\r\n        if(!$.isEmptyObject(popupOptions)) {\r\n          layer.bindPopup(popupProperty(feature), popupOptions);\r\n        } else {\r\n          layer.bindPopup(popupProperty(feature));\r\n        }\r\n      }\r\n    }\r\n\r\n    // create and bind labels if enabled.\r\n    if (typeof labelProperty !== 'undefined' && labelProperty !== null) {\r\n      if(typeof labelProperty == 'string') {\r\n        if(!$.isEmptyObject(labelOptions)) {\r\n          if(labelOptions.permanent) {\r\n            layer.bindTooltip(feature.properties[labelProperty], labelOptions).showLabel();\r\n          } else {\r\n            layer.bindTooltip(feature.properties[labelProperty], labelOptions);\r\n          }\r\n        } else {\r\n          layer.bindTooltip(feature.properties[labelProperty]);\r\n        }\r\n      } else if(typeof labelProperty == 'function') {\r\n        if(!$.isEmptyObject(labelOptions)) {\r\n          if(labelOptions.noHide) {\r\n            layer.bindTooltip(labelProperty(feature), labelOptions).showLabel();\r\n          } else {\r\n            layer.bindTooltip(labelProperty(feature), labelOptions);\r\n          }\r\n        } else {\r\n          layer.bindTooltip(labelProperty(feature));\r\n        }\r\n      }\r\n    }\r\n\r\n    // add EventListeners to highlight shapes on hover if enabled.\r\n    if(!$.isEmptyObject(highlightStyle)) {\r\n      layer.on({\r\n        'mouseover': highlightFeature,\r\n        'mouseout': resetFeature});\r\n    }\r\n\r\n    layer.on('click', LeafletWidget.methods.mouseHandler(self.id, layerId,\r\n      thisGroup, 'geojson_click', featureExtraInfo), self);\r\n    layer.on('mouseover', LeafletWidget.methods.mouseHandler(self.id, layerId,\r\n      thisGroup, 'geojson_mouseover', featureExtraInfo), self);\r\n    layer.on('mouseout', LeafletWidget.methods.mouseHandler(self.id, layerId,\r\n      thisGroup, 'geojson_mouseout', featureExtraInfo), self);\r\n  }\r\n\r\n  // code for custom markers\r\n  function pointToLayerFunction(feature, latlng) {\r\n    var layer = null;\r\n    if(markerType === 'circleMarker') {\r\n      layer = L.circleMarker(latlng, markerOptions || {});\r\n    } else {\r\n      if (typeof markerIconProperty !== 'undefined' && markerIconProperty !== null) {\r\n        if(typeof markerIconProperty == 'string') {\r\n          layer = L.marker(latlng, $.extend({\r\n            icon: markerIconFunction(markerIcons[feature.properties[markerIconProperty]])\r\n          }, markerOptions || {}));\r\n        } else if(typeof markerIconProperty == 'function') {\r\n          layer = L.marker(latlng, $.extend({\r\n            icon: markerIconFunction(markerIcons[markerIconProperty(feature)])\r\n          }, markerOptions || {}));\r\n        }\r\n      } else {\r\n        layer = L.marker(latlng, $.extend({\r\n          icon: markerIconFunction(markerIcons)\r\n        }, markerOptions || {}));\r\n      }\r\n    }\r\n\r\n    return layer;\r\n  }\r\n\r\n  var geojsonOptions = {};\r\n  if(setStyle){\r\n    geojsonOptions.style = styleFunction;\r\n  }\r\n  geojsonOptions.onEachFeature = onEachFeatureFunction;\r\n\r\n  if(markerType === 'circleMarker' || !$.isEmptyObject(markerIcons)) {\r\n    geojsonOptions.pointToLayer = pointToLayerFunction;\r\n  }\r\n\r\n  var gjlayer = geojsonLayerFunction(geojsonOptions);\r\n\r\n  if (cluster) {\r\n    clusterGroup.clusterLayerStore.add(gjlayer);\r\n    self.layerManager.addLayer(clusterGroup, 'cluster', clusterId, group);\r\n  } else {\r\n    self.layerManager.addLayer(gjlayer, 'geojson', layerId, thisGroup);\r\n  }\r\n\r\n}\r\n\r\nLeafletWidget.methods.addGenericGeoJSONLayer = addGeoJSONLayer;\r\n\r\nLeafletWidget.methods.addGeoJSONv2 = function(\r\n  geojson, layerId, group,\r\n  markerType, markerIcons,\r\n  markerIconProperty, markerOptions, markerIconFunction,\r\n  clusterOptions, clusterId,\r\n  labelProperty, labelOptions, popupProperty, popupOptions,\r\n  pathOptions, highlightOptions\r\n) {\r\n  var self = this;\r\n  if(LeafletWidget.utils.isURL(geojson)) {\r\n    $.getJSON(geojson, function(geojsondata){\r\n      addGeoJSONLayer(\r\n        self,\r\n        function getGeoJSONLayer(geoJSONOptions){\r\n          return L.geoJson(\r\n            LeafletWidget.utils.getParsedGeoJSON(geojsondata), geoJSONOptions);\r\n        },\r\n        layerId, group,\r\n        true,\r\n        markerType, markerIcons,\r\n        markerIconProperty, markerOptions, markerIconFunction,\r\n        clusterOptions, clusterId,\r\n        labelProperty, labelOptions, popupProperty, popupOptions,\r\n        pathOptions, highlightOptions\r\n      );\r\n    });\r\n  } else {\r\n    addGeoJSONLayer(\r\n      self,\r\n      function getGeoJSONLayer(geoJSONOptions){\r\n        return L.geoJson(\r\n          LeafletWidget.utils.getParsedGeoJSON(geojson), geoJSONOptions);\r\n      },\r\n      layerId, group,\r\n      true,\r\n      markerType, markerIcons,\r\n      markerIconProperty, markerOptions, markerIconFunction,\r\n      clusterOptions, clusterId,\r\n      labelProperty, labelOptions, popupProperty, popupOptions,\r\n      pathOptions, highlightOptions\r\n    );\r\n  }\r\n};\r\n\r\nLeafletWidget.methods.addKML = function(\r\n  kml, layerId, group,\r\n  markerType, markerIcons,\r\n  markerIconProperty, markerOptions, markerIconFunction,\r\n  clusterOptions, clusterId,\r\n  labelProperty, labelOptions, popupProperty, popupOptions,\r\n  pathOptions, highlightOptions\r\n) {\r\n  var self = this;\r\n  if(LeafletWidget.utils.isURL(kml)) {\r\n    $.getJSON(kml, function(data){\r\n      var geojsondata = toGeoJSON.kml(\r\n        LeafletWidget.utils.parseXML(data));\r\n      addGeoJSONLayer(\r\n        self,\r\n        function getGeoJSONLayer(geoJSONOptions){\r\n          return L.geoJson(\r\n            LeafletWidget.utils.getParsedGeoJSON(geojsondata), geoJSONOptions);\r\n        },\r\n        layerId, group,\r\n        true,\r\n        markerType, markerIcons,\r\n        markerIconProperty, markerOptions, markerIconFunction,\r\n        clusterOptions, clusterId,\r\n        labelProperty, labelOptions, popupProperty, popupOptions,\r\n        pathOptions, highlightOptions\r\n      );\r\n    });\r\n  } else {\r\n    var geojsondata = toGeoJSON.kml(\r\n      LeafletWidget.utils.parseXML(kml));\r\n    addGeoJSONLayer(\r\n      self,\r\n      function getGeoJSONLayer(geoJSONOptions){\r\n        return L.geoJson(\r\n          LeafletWidget.utils.getParsedGeoJSON(geojsondata), geoJSONOptions);\r\n      },\r\n      layerId, group,\r\n      true,\r\n      markerType, markerIcons,\r\n      markerIconProperty, markerOptions, markerIconFunction,\r\n      clusterOptions, clusterId,\r\n      labelProperty, labelOptions, popupProperty, popupOptions,\r\n      pathOptions, highlightOptions\r\n    );\r\n  }\r\n};\r\n\r\nLeafletWidget.methods.addCSV = function(\r\n  csv, layerId, group,\r\n  markerType, markerIcons,\r\n  markerIconProperty, markerOptions, markerIconFunction,\r\n  clusterOptions, clusterId,\r\n  labelProperty, labelOptions, popupProperty, popupOptions,\r\n  pathOptions, highlightOptions, csvParserOptions\r\n) {\r\n  var self = this;\r\n  if(LeafletWidget.utils.isURL(csv)) {\r\n    $.getJSON(csv, function(data){\r\n      csv2geojson.csv2geojson(\r\n        data, csvParserOptions || {},\r\n        function(err, geojsondata) {\r\n          addGeoJSONLayer(\r\n            self,\r\n            function getGeoJSONLayer(geoJSONOptions){\r\n              return L.geoJson(\r\n                LeafletWidget.utils.getParsedGeoJSON(geojsondata), geoJSONOptions);\r\n            },\r\n            layerId, group,\r\n            true,\r\n            markerType, markerIcons,\r\n            markerIconProperty, markerOptions, markerIconFunction,\r\n            clusterOptions, clusterId,\r\n            labelProperty, labelOptions, popupProperty, popupOptions,\r\n            pathOptions, highlightOptions\r\n          );\r\n        }\r\n      );\r\n    });\r\n  } else {\r\n    csv2geojson.csv2geojson(\r\n      csv, csvParserOptions || {},\r\n      function(err, geojsondata) {\r\n        addGeoJSONLayer(\r\n          self,\r\n          function getGeoJSONLayer(geoJSONOptions){\r\n            return L.geoJson(\r\n              LeafletWidget.utils.getParsedGeoJSON(geojsondata), geoJSONOptions);\r\n          },\r\n          layerId, group,\r\n          true,\r\n          markerType, markerIcons,\r\n          markerIconProperty, markerOptions, markerIconFunction,\r\n          clusterOptions, clusterId,\r\n          labelProperty, labelOptions, popupProperty, popupOptions,\r\n          pathOptions, highlightOptions\r\n        );\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\nLeafletWidget.methods.addGPX = function(\r\n  gpx, layerId, group,\r\n  markerType, markerIcons,\r\n  markerIconProperty, markerOptions, markerIconFunction,\r\n  clusterOptions, clusterId,\r\n  labelProperty, labelOptions, popupProperty, popupOptions,\r\n  pathOptions, highlightOptions\r\n) {\r\n  var self = this;\r\n  if(LeafletWidget.utils.isURL(gpx)) {\r\n    $.getJSON(gpx, function(data){\r\n      var geojsondata = toGeoJSON.gpx(\r\n        LeafletWidget.utils.parseXML(data));\r\n      addGeoJSONLayer(\r\n        self,\r\n        function getGeoJSONLayer(geoJSONOptions){\r\n          return L.geoJson(\r\n            LeafletWidget.utils.getParsedGeoJSON(geojsondata), geoJSONOptions);\r\n        },\r\n        layerId, group,\r\n        true,\r\n        markerType, markerIcons,\r\n        markerIconProperty, markerOptions, markerIconFunction,\r\n        clusterOptions, clusterId,\r\n        labelProperty, labelOptions, popupProperty, popupOptions,\r\n        pathOptions, highlightOptions\r\n      );\r\n    });\r\n  } else {\r\n    var geojsondata = toGeoJSON.gpx(\r\n      LeafletWidget.utils.parseXML(gpx));\r\n    addGeoJSONLayer(\r\n      self,\r\n      function getGeoJSONLayer(geoJSONOptions){\r\n        return L.geoJson(\r\n          LeafletWidget.utils.getParsedGeoJSON(geojsondata), geoJSONOptions);\r\n      },\r\n      layerId, group,\r\n      true,\r\n      markerType, markerIcons,\r\n      markerIconProperty, markerOptions, markerIconFunction,\r\n      clusterOptions, clusterId,\r\n      labelProperty, labelOptions, popupProperty, popupOptions,\r\n      pathOptions, highlightOptions\r\n    );\r\n  }\r\n};\r\n\r\n\r\n\r\nLeafletWidget.methods.addGeoJSONChoropleth = function(\r\n  geojson, layerId, group,\r\n  labelProperty, labelOptions, popupProperty, popupOptions,\r\n  pathOptions, highlightOptions, legendOptions\r\n) {\r\n\r\n  var style = pathOptions;\r\n  var highlightStyle = highlightOptions;\r\n  var defaultStyle = getResetStyle(style, highlightStyle);\r\n\r\n  if(!$.isEmptyObject(legendOptions)) {\r\n    legendOptions.highlightStyle = highlightStyle;\r\n    legendOptions.resetStyle = defaultStyle;\r\n  }\r\n\r\n  var self = this;\r\n  if(LeafletWidget.utils.isURL(geojson)) {\r\n    $.getJSON(geojson, function(geojsondata){\r\n      addGeoJSONLayer(\r\n        self,\r\n        function getGeoJSONLayer(geoJSONOptions){\r\n          return L.choropleth(\r\n            LeafletWidget.utils.getParsedGeoJSON(geojsondata),\r\n            $.extend(pathOptions, geoJSONOptions), legendOptions);\r\n        },\r\n        layerId, group,\r\n        false,\r\n        null, null,\r\n        null, null, null,\r\n        null, null,\r\n        labelProperty, labelOptions, popupProperty, popupOptions,\r\n        pathOptions, highlightOptions\r\n      );\r\n    });\r\n  } else {\r\n    addGeoJSONLayer(\r\n      self,\r\n      function getGeoJSONLayer(geoJSONOptions){\r\n        return L.choropleth(\r\n          LeafletWidget.utils.getParsedGeoJSON(geojson),\r\n          $.extend(pathOptions, geoJSONOptions), legendOptions);\r\n      },\r\n      layerId, group,\r\n      false,\r\n      null, null,\r\n      null, null, null,\r\n      null, null,\r\n      labelProperty, labelOptions, popupProperty, popupOptions,\r\n      pathOptions, highlightOptions\r\n    );\r\n  }\r\n};\r\n\r\nLeafletWidget.methods.addKMLChoropleth = function(\r\n  kml, layerId, group,\r\n  labelProperty, labelOptions, popupProperty, popupOptions,\r\n  pathOptions, highlightOptions, legendOptions\r\n) {\r\n  var style = pathOptions;\r\n  var highlightStyle = highlightOptions;\r\n  var defaultStyle = getResetStyle(style, highlightStyle);\r\n\r\n  if(!$.isEmptyObject(legendOptions)) {\r\n    legendOptions.highlightStyle = highlightStyle;\r\n    legendOptions.resetStyle = defaultStyle;\r\n  }\r\n\r\n  var self = this;\r\n  if(LeafletWidget.utils.isURL(kml)) {\r\n    $.getJSON(kml, function(data){\r\n      var geojsondata = toGeoJSON.kml(LeafletWidget.utils.parseXML(data));\r\n      addGeoJSONLayer(\r\n        self,\r\n        function getGeoJSONLayer(geoJSONOptions){\r\n          return L.choropleth(\r\n            LeafletWidget.utils.getParsedGeoJSON(geojsondata),\r\n            $.extend(pathOptions, geoJSONOptions), legendOptions);\r\n        },\r\n        layerId, group,\r\n        false,\r\n        null, null,\r\n        null, null, null,\r\n        null, null,\r\n        labelProperty, labelOptions, popupProperty, popupOptions,\r\n        pathOptions, highlightOptions\r\n      );\r\n    });\r\n  } else {\r\n    var geojsondata = toGeoJSON.kml(LeafletWidget.utils.parseXML(kml));\r\n    addGeoJSONLayer(\r\n      self,\r\n      function getGeoJSONLayer(geoJSONOptions){\r\n        return L.choropleth(\r\n          LeafletWidget.utils.getParsedGeoJSON(geojsondata),\r\n          $.extend(pathOptions, geoJSONOptions), legendOptions);\r\n      },\r\n      layerId, group,\r\n      false,\r\n      null, null,\r\n      null, null, null,\r\n      null, null,\r\n      labelProperty, labelOptions, popupProperty, popupOptions,\r\n      pathOptions, highlightOptions\r\n    );\r\n  }\r\n};\r\n"],"names":[],"sourceRoot":""}