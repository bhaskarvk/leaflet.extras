{"version":3,"file":"lfx-gps-prod.js","mappings":"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","sources":["webpack://leaflet.extras/./node_modules/leaflet-gps/dist/leaflet-gps.src.js","webpack://leaflet.extras/external var \"L\"","webpack://leaflet.extras/webpack/bootstrap","webpack://leaflet.extras/webpack/startup"],"sourcesContent":["/* \n * Leaflet Control GPS v1.7.8 - 2021-10-10 \n * \n * Copyright 2021 Stefano Cudini \n * stefano.cudini@gmail.com \n * https://opengeo.tech/ \n * \n * Licensed under the MIT license. \n * \n * Demos: \n * https://opengeo.tech/maps/leaflet-gps/ \n * \n * Source: \n * git@github.com:stefanocudini/leaflet-gps.git \n * \n */\n(function (factory) {\n    if(typeof define === 'function' && define.amd) {\n    //AMD\n        define(['leaflet'], factory);\n    } else if(typeof module !== 'undefined') {\n    // Node/CommonJS\n        module.exports = factory(require('leaflet'));\n    } else {\n    // Browser globals\n        if(typeof window.L === 'undefined')\n            throw 'Leaflet must be loaded first';\n        factory(window.L);\n    }\n})(function (L) {\n\nL.Control.Gps = L.Control.extend({\n\n\tincludes: L.version[0] =='1' ? L.Evented.prototype : L.Mixin.Events,\n\t//\n\t//Managed Events:\n\t//\tEvent\t\t\tData passed\t\t\tDescription\n\t//\n\t//\tgps:located\t\t{marker,latlng}\t \tfired after gps marker is located\n\t//\tgps:disabled\t{marker}\t\t\tfired after gps is disabled\n\t//\tgps:error\t    {message}\t\t\tfired after gps error\n\t//\n\t//Methods exposed:\n\t//\tMethod \t\t\tDescription\n\t//\n\t//  getLocation\t\treturn Latlng and marker of current position\n\t//  activate\t\tactive tracking on runtime\n\t//  deactivate\t\tdeactive tracking on runtime\n\t//\n\toptions: {\n\t\tautoActive: false,\t\t//activate control at startup\n\t\tautoCenter: false,\t\t//move map when gps location change\n\t\tautoFollow: true, \t\t//move map continuously\n\t\tmaxZoom: null,\t\t\t//max zoom for autoCenter\n\t\ttextErr: '',\t\t\t//error message on alert notification\n\t\tcallErr: null,\t\t\t//function that run on gps error activating\n\t\ttitle: 'Center map on your location',\n\t\tmarker: null,\t\t\t//L.Marker used for location, default use a L.CircleMarker\n\t\tstyle: {\t\t\t\t//default L.CircleMarker styles\n\t\t\tradius: 5,\n\t\t\tweight: 2,\n\t\t\tcolor: '#c20',\n\t\t\topacity: 1,\n\t\t\tfillColor: '#f23',\n\t\t\tfillOpacity: 1\n\t\t},\n\t\t//accuracy: true,\t\t//show accuracy Circle\n\t\tposition: 'topleft',\n\t\ttransform: function(latlng) { return latlng },\n\t\t//TODO add gpsLayer\n\t\t//TODO timeout autoCenter\n\t},\n\n\tinitialize: function(options) {\n\t\tif(options && options.style)\n\t\t\toptions.style = L.Util.extend({}, this.options.style, options.style);\n\t\tL.Util.setOptions(this, options);\n\t\tthis._errorFunc = this.options.callErr || this.showAlert;\n\t\tthis._isActive = false;\n\t\tthis._isLoading = false;\n\t\tthis._currentLocation = null;\t//store last location\n\t},\n\n\tonAdd: function (map) {\n\n\t\tthis._map = map;\n\n\t\tvar container = L.DomUtil.create('div', 'leaflet-control-gps');\n\n\t\tthis._button = L.DomUtil.create('a', 'gps-button', container);\n\t\tthis._button.href = '#';\n\t\tthis._button.title = this.options.title;\n\n\t\tL.DomEvent\n\t\t\t.on(this._button, 'dblclick', L.DomEvent.stop, this)\n\t\t\t.on(this._button, 'click', L.DomEvent.stop, this)\n\t\t\t.on(this._button, 'click', this._switchGps, this);\n\n\t\tthis._alert = L.DomUtil.create('div', 'gps-alert', container);\n\t\tthis._alert.style.display = 'none';\n\n\t\tthis._gpsMarker = this.options.marker ? this.options.marker : new L.CircleMarker([0,0], this.options.style);\n\t\t//if(this.options.accuracy)\n\t\t//\tthis._accuracyCircle = new L.Circle([0,0], this.options.style);\n\n\t\tif(this.options.autoFollow) {\n\t\t\tthis._map.on('locationfound', this._drawGps, this);\n\t\t}\n\t\telse {\n\t\t\tthis._map.once('locationfound', this._drawGps, this);\n\t\t}\n\n\t\tthis._map.on('locationerror', this._errorGps, this);\n\n\t\tif(this.options.autoActive)\n\t\t\tthis.activate();\n\n\t\treturn container;\n\t},\n\n\tonRemove: function(map) {\n\t\tthis.deactivate();\n\n\t\tmap.off('locationfound', this._drawGps, this)\n\t\t   .off('locationerror', this._errorGps, this);\n\t},\n\n\t_switchGps: function() {\n\t\tif(this._isActive || this._isLoading)\n\t\t\tthis.deactivate();\n\t\telse\n\t\t\tthis.activate();\n\t},\n\n\tgetLocation: function() {\t//get last location\n\t\treturn this._currentLocation;\n\t},\n\n\tactivate: function() {\n\n\t\tthis._isActive = true;\n\t\tthis._isLoading = true;\n\t\tthis._map.addLayer( this._gpsMarker );\n\n\t\tL.DomUtil.addClass(this._button, 'loading');\n\n\t\tthis._map.once('locationfound', function(e) {\n\n\t\t\tL.DomUtil.removeClass(this._button, 'loading');\n\t\t\tL.DomUtil.removeClass(this._button, 'disabled');\n\t\t\tL.DomUtil.addClass(this._button, 'active');\n\n\t\t\tthis._isLoading = false;\n\n\t\t\tif(this.options.autoCenter)\n\t\t\t\tthis._map.setView(e.latlng, this.options.maxZoom || this._map.getZoom());\n\n\t\t}, this);\n\n\t\tthis._map.locate({\n\t\t\tenableHighAccuracy: false,\n\t\t\twatch: true,\n\t\t\tsetView: false,//this.options.autoCenter,\n\t\t\t//maxZoom: this.options.maxZoom || this._map.getZoom()\n\t\t});\n\t},\n\n\tdeactivate: function() {\n\n\t\tthis._isActive = false;\n\t\tthis._isLoading = false;\n\n\t\tL.DomUtil.removeClass(this._button, 'active');\n\t\tL.DomUtil.removeClass(this._button, 'loading');\n\n\t\tif(this._map) {\n\t\t\tthis._map.stopLocate();\n\t\t\tthis._map.removeLayer( this._gpsMarker );\n\t\t}\n\n\t\t//this._gpsMarker.setLatLng([-90,0]);  //move to antarctica!\n\t\t//TODO make method .hide() using _icon.style.display = 'none'\n\t\tthis.fire('gps:disabled', {marker: this._gpsMarker});\n\t},\n\n\t_drawGps: function(e) {\n\n\t\tvar self = this;\n\n\t\t//TODO use e.accuracy for gps circle radius/color\n\t\tthis._currentLocation = this.options.transform(e.latlng);\n\n\t\tthis._gpsMarker.setLatLng(this._currentLocation);\n\n\t\tif(this.options.autoFollow) {\n\t\t\tthis._map.on('locationfound', this._drawGps, this);\n\t\t}\n\t\telse {\n\t\t\tthis._map.once('locationfound', this._drawGps, this);\n\t\t}\n\n\t\tthis._map.on('locationerror', this._errorGps, this);\n\n\t\tif(this.options.autoActive)\n\t\t\tthis.activate();\n\n\t//    \tif(this._gpsMarker.accuracyCircle)\n\t//    \t\tthis._gpsMarker.accuracyCircle.setRadius((e.accuracy / 2).toFixed(0));\n\t},\n\n\t_errorGps: function(e) {\n\t\tthis.fire('gps:error', e);\n\n\t\tthis.deactivate();\n\n\t\tL.DomUtil.addClass(this._button, 'disabled');\n\n\t\tthis._errorFunc.call(this, this.options.textErr || e.message);\n\t},\n\n\t/*\t_updateAccuracy: function (event) {\n\t\t\tvar newZoom = this._map.getZoom(),\n\t\t\t\tscale = this._map.options.crs.scale(newZoom);\n\t\t\tthis._gpsMarker.setRadius(this.options.style.radius * scale);\n\t\t\tthis._gpsMarker.redraw();\n\t\t},\n\t*/\n\tshowAlert: function(text) {\n\t\tthis._alert.style.display = 'block';\n\t\tthis._alert.innerHTML = text;\n\t\tvar that = this;\n\t\tclearTimeout(this.timerAlert);\n\t\tthis.timerAlert = setTimeout(function() {\n\t\t\tthat._alert.style.display = 'none';\n\t\t}, 5000);\n\t}\n});\n\nL.Map.addInitHook(function () {\n\tif (this.options.gpsControl) {\n\t\tthis.gpsControl = L.control.gps(this.options.gpsControl);\n\t\tthis.addControl(this.gpsControl);\n\t}\n});\n\nL.control.gps = function (options) {\n\treturn new L.Control.Gps(options);\n};\n\n\treturn L.Control.Gps;\n});\n\n","module.exports = L;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module used 'module' so it can't be inlined\n__webpack_require__(220);\nvar __webpack_exports__ = __webpack_require__(537);\n"],"names":["L","Control","Gps","extend","includes","version","Evented","prototype","Mixin","Events","options","autoActive","autoCenter","autoFollow","maxZoom","textErr","callErr","title","marker","style","radius","weight","color","opacity","fillColor","fillOpacity","position","transform","latlng","initialize","Util","this","setOptions","_errorFunc","showAlert","_isActive","_isLoading","_currentLocation","onAdd","map","_map","container","DomUtil","create","_button","href","DomEvent","on","stop","_switchGps","_alert","display","_gpsMarker","CircleMarker","_drawGps","once","_errorGps","activate","onRemove","deactivate","off","getLocation","addLayer","addClass","e","removeClass","setView","getZoom","locate","enableHighAccuracy","watch","stopLocate","removeLayer","fire","setLatLng","call","message","text","innerHTML","that","clearTimeout","timerAlert","setTimeout","Map","addInitHook","gpsControl","control","gps","addControl","module","exports","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__"],"sourceRoot":""}