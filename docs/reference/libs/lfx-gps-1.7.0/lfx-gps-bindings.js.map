{"version":3,"file":"lfx-gps-bindings.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,mDAAmD;AACnD,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,GAAG;AACH","sources":["webpack://leaflet.extras/./inst/htmlwidgets/bindings/lfx-gps-bindings.js"],"sourcesContent":["/* global LeafletWidget, L, HTMLWidgets, Shiny */\r\n\r\nLeafletWidget.methods.addControlGPS = function(options) {\r\n  (function() {\r\n    var map = this;\r\n    if(map.gpscontrol) {\r\n      map.gpscontrol.remove(map);\r\n      delete map.gpscontrol;\r\n    }\r\n    map.gpscontrol = new L.Control.Gps(options);\r\n\r\n    map.gpscontrol.on('gps:located', function(e){\r\n      // Shiny stuff\r\n      if (!HTMLWidgets.shinyMode) return;\r\n      Shiny.onInputChange(map.id+'_gps_located',{\r\n        'coordinates' : e.latlng,\r\n        'radius': e.marker._radius\r\n      });\r\n    });\r\n    map.gpscontrol.on('gps:disabled', function(e){\r\n      // Shiny stuff\r\n      if (!HTMLWidgets.shinyMode) return;\r\n      Shiny.onInputChange(map.id+'_gps_disabled',{});\r\n    });\r\n    map.gpscontrol.addTo(map);\r\n  }).call(this);\r\n};\r\n\r\nLeafletWidget.methods.removeControlGPS = function() {\r\n  (function() {\r\n    var map = this;\r\n    if(map.gpscontrol) {\r\n      map.gpscontrol.remove(map);\r\n      delete map.gpscontrol;\r\n    }\r\n  }).call(this);\r\n};\r\n\r\nLeafletWidget.methods.activateGPS = function() {\r\n  (function() {\r\n    var map = this;\r\n    if(map.gpscontrol) {\r\n      map.gpscontrol.activate();\r\n    }\r\n  }).call(this);\r\n};\r\n\r\nLeafletWidget.methods.deactivateGPS = function() {\r\n  (function() {\r\n    var map = this;\r\n    if(map.gpscontrol) {\r\n      map.gpscontrol.deactivate();\r\n    }\r\n  }).call(this);\r\n};\r\n\r\nLeafletWidget.methods.getLocation = function() {\r\n  return (function() {\r\n    var map = this;\r\n    if(map.gpscontrol) {\r\n      return map.gpscontrol.getLocation();\r\n    } else {\r\n      throw 'GPS Control not added to the map';\r\n    }\r\n  }).call(this);\r\n};\r\n"],"names":[],"sourceRoot":""}